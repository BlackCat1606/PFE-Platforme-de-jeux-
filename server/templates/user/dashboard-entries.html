{% extends "user/_page-dashboard.html" %}
{% import "event/_macros-event.html" as eventMacros %}

{% block dashboardBody %}

<h1>Soumissions</h1>

<div class="form-group">
  <a href="{{ buildUrl(user, 'user', 'entry-import') }}" class="btn btn-primary">Importer des soumissions de sites externes</a>
  <a href="/external-entry/create-entry" class="btn btn-default">Créer une soumission externe manuellement</a>
</div>

<div class="game-grid">
  {% for entry in entries %}
    <div class="game-grid-entry">
      {{ eventMacros.entryThumb(entry, {showEvent: true}) }}
      <div class="entry-thumb__form">
        <a href="{{ buildUrl(entry, 'entry', 'edit') }}"class="btn btn-default">Modifier</a>
      </div>
    </div>
  {% endfor %}
</div>

{% if alakajamEntries.length > 0 %}
<h2>Soumissions CNPSR ({{alakajamEntries.length}})</h2>
  <div class="game-grid">
    {% for entry in alakajamEntries %}
      <div class="game-grid-entry">
        {{ eventMacros.entryThumb(entry, {showEvent: true}) }}
        <div class="entry-thumb__form">
          <a href="{{ buildUrl(entry, 'entry', 'edit') }}"class="btn btn-default">Modifier</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% if otherEntries.length > 0 %}
<h2>Événements spéciaux ({{otherEntries.length}})</h2>
  <div class="game-grid">
    {% for entry in otherEntries %}
      <div class="game-grid-entry">
        {{ eventMacros.entryThumb(entry, {showEvent: true}) }}
        <div class="entry-thumb__form">
          <a href="{{ buildUrl(entry, 'entry', 'edit') }}"class="btn btn-default">Modifier</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% if externalEntries.length > 0 %}
<h2>External Entries ({{externalEntries.length}})</h2>
  <div class="game-grid">
    {% for entry in externalEntries %}
      <div class="game-grid-entry">
        {{ eventMacros.entryThumb(entry, {showEvent: true}) }}
        <div class="entry-thumb__form">
          <a href="{{ buildUrl(entry, 'entry', 'edit') }}"class="btn btn-default">Modifier</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% if alakajamEntries.length + otherEntries.length + externalEntries.length === 0 %}
  <div class="well">Aucune soumission pour l'instant.</div>
{% endif %}

{% endblock %}
