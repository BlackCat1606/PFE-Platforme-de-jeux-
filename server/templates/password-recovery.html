{% extends "_page.html" %}

{% block body %}

<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
      <div class="panel {{ 'panel-warning' if errorMessage }} {{ 'panel-info' if infoMessage }} login">

        {% if errorMessage %}
        <div class="panel-heading">
          <h3 class="panel-title">{{ errorMessage }}</h3>
        </div>
        {% endif %}

        <div class="well">
          {% if not success and token %}
            <h1>Récupération de mot de passe</h1>

            <form method="post" action="{{ path }}">
              {{ csrfToken() | safe }}
              <div class="form-group">
                <label for="new-password">Nouveau mot de passe</label>
                <input type="password" class="form-control" name="new-password" required="required" />
              </div>
              <div class="form-group">
                <label for="new-password-bis">Repeter le mot de passe</label>
                <input type="password" class="form-control" name="new-password-bis" required="required" />
              </div>
              <button type="submit" class="btn btn-primary">Soumettre</button>
            </form>
          {% elseif success %}
            <p>Votre mot de passe a été changé avec succès!</p>
            <p><a href="/login" class="btn btn-primary">Se connecter</a></p>
          {% else %}
            <p>Ce jeton n'est pas ou plus valide. Vous pouvez en demander un nouveau en suivant le lien ci-dessous.</p>
            <p><a href="/passwordRecoveryRequest" class="btn btn-primary">Demande de récupération de mot de passe</a></p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}